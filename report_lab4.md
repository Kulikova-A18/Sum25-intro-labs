# Лабораторная работа по операционным системам и сетям

В этой лабораторной работе вы проанализируете основы операционной системы, включая производительность загрузки, использование ресурсов и зависимости служб, а также проведете диагностику сети с помощью трассировки пути, проверки DNS и захвата пакетов для развития основных навыков инфраструктуры DevOps.

## Задача 1: Анализ операционной системы

**Цель**: Проанализировать ключевые компоненты ОС, включая производительность загрузки, использование ресурсов, службы, сеансы и управление памятью.

### 1.1: Производительность загрузки

1. **Анализ времени загрузки системы**:

```sh
systemd-analyze
systemd-analyze blame
```

2. **Проверка загрузки системы**:

```sh
uptime
w
```

### 1.2: Экспертиза процессов

1. **Определение ресурсоемких процессов**:

```sh
ps -eo pid,ppid,cmd,%mem,%cpu --sort=-%mem | head -n 6
ps -eo pid,ppid,cmd,%mem,%cpu --sort=-%cpu | head -n 6
```

### 1.3: Зависимости служб

1. **Сопоставление отношений служб**:

```sh
systemctl list-dependencies
systemctl list-dependencies multi-user.target
```

### 1.4: Сеансы пользователей

1. **Аудит активности входа в систему**:

```sh
who -a
last -n 5
```

### 1.5: Анализ памяти

1. **Проверка выделения памяти**:

```sh
free -h
cat /proc/meminfo | grep -e MemTotal -e SwapTotal -e MemAvailable
```

### Документация для анализа ОС

- Создайте `submission4.md` со всеми выводами команд
- Для каждого
- Включите ключевые наблюдения
- Ответьте на конкретные вопросы (например, «Определите процесс, потребляющий больше всего памяти»)
- Отметьте закономерности использования ресурсов

## Задача 2: Анализ сети

**Цель**: Выполнить диагностику сети, включая трассировку пути, проверку DNS, захват пакетов и обратный поиск.

### 2.1: Трассировка сетевого пути

1. **Выполнение трассировки**:

```sh
traceroute github.com
```

2. **Проверка разрешения DNS**:

```sh
dig github.com
```

### 2.2: Захват пакетов

1. **Захват трафика DNS**:

```sh
sudo timeout 10 tcpdump -c 5 -i any 'port 53' -nn
```

### 2.3: Обратный DNS

1. **Выполнение поиска PTR**:

```sh
dig -x 8.8.4.4
dig -x 1.1.2.2
```

### Документация по сетевому анализу

- Добавить выходные данные в `submission4.md`
- Для каждого
- Включить сведения о сетевые пути
- Анализируйте шаблоны запросов/ответов DNS
- Сравните результаты обратного поиска
- Очищайте IP-адреса в захватах пакетов (замените последний октет на XXX) при документировании конфиденциальных сетей

## Руководство

- Используйте заголовки Markdown для организации в `submission4.md`
- Включайте как выходные данные команд, так и письменный анализ
- Для захвата пакетов (2.2) документируйте пример запроса DNS 1
- Создайте PR в основную ветку по завершении

> **Примечания по безопасности**
>
> 1. Очищайте IP-адреса в выходных данных захвата пакетов
> 2. Избегайте включения в документацию имен конфиденциальных процессов
